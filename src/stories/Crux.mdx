import { Meta, Canvas } from '@storybook/addon-docs';
import { CrossIcon, FullSquareIcon } from '../icons/components';


<Meta title="Standards/Layouts/Crux"/>

# Crux

A crux is the central element of a layout that can be adorned with elements at
the start or end while maintaining the baseline. This structure is used for
`Field`, `Button`, `Avatar`, `Tag` and any other element that requires
adornments.

The structure is:

<Canvas isExpanded={true}>
<div className="text-center">
    Before
    <div className="inline-flex items-baseline bg-green-100">
        <div className="flex-none self-center flex items-center h-0 mr-[0.5em]">
            <FullSquareIcon className="bg-red-100 text-xs"/>
        </div>
        <div className="flex-1 bg-blue-100">
            THE CONTENT
        </div>
        <div className="flex-none self-center flex items-center h-0 ml-[0.5em]">
            <FullSquareIcon className="bg-red-100 text-4xl"/>
        </div>
    </div>
    After
</div>
</Canvas>

With the above structure and markup we guarantee that:

* The baseline is maintained with the provided content but the adornments are
  centered. Notice the `items-baseline` on the base div and the `self-center` on
  the `start` and `end` adornments.
* The height of the adornment does not affect the height of the content. Notice
  the `h-0` to limit the height but to maintain the adornments centered. You
  must guarantee that the container has the necessary space to show the
  adornments.

We have created the `crux` css classes to facilitate this layout since it is
used in mutiple places.

<Canvas isExpanded={true}>
<div className="text-center">
    Before
    <div className="lux-crux bg-green-100">
        <div className="lux-crux-start">
            <FullSquareIcon className="bg-red-100 text-xs"/>
        </div>
        <div className="lux-crux-content bg-blue-100">
            THE CONTENT
        </div>
        <div className="lux-crux-end">
            <FullSquareIcon className="bg-red-100 text-4xl"/>
        </div>
    </div>
    After
</div>
</Canvas>

There is a particular case in which we need to use this layout without content.
For example a button with no text and an icon. In this case the content must be
a zero width space to keep the baseline, and the base div requires the
additional class `lux-crux-empty` to make sure the margins are correct.

<Canvas isExpanded={true}>
<div className="text-center">
    Before
    <div className="lux-crux lux-crux-empty bg-green-100">
        <div className="lux-crux-start">
            <FullSquareIcon className="bg-red-100 text-4xl"/>
        </div>
        <div className="lux-crux-content">
            &#8203;
        </div>
    </div>
    <div className="lux-crux lux-crux-empty bg-green-100">
        <div className="lux-crux-start">
            <FullSquareIcon className="bg-red-100 text-xs"/>
        </div>
        <div className="lux-crux-content">
            &#8203;
        </div>
    </div>
    After
</div>
</Canvas>

This structure is used for `Avatar` while keeping the baseline.

<Canvas isExpanded={true}>
<div className="text-center">
    Before
    <div className="lux-crux lux-crux-empty bg-green-100">
        <div className="lux-crux-start">
            <div className="w-[2em] h-[2em] bg-red-500 flex justify-center items-center rounded-full">
                <span className="text-white text-xs leading-none">RM</span>
            </div>
        </div>
        <div className="lux-crux-content">
            &#8203;
        </div>
    </div>
    After
</div>
</Canvas>

This structure is used for `Tag` while keeping the baseline.

<Canvas isExpanded={true}>
<div className="text-center">
    Before
    <div className="lux-crux bg-green-200 px-3 py-1 rounded-full">
        <div className="lux-crux-start">
            <div className="w-[0.75em] h-[0.75em] bg-green-400 flex justify-center items-center rounded-full">
                <span className="text-white text-xs leading-none"><CrossIcon/></span>
            </div>
        </div>
        <div className="lux-crux-content">
            Tag name
        </div>
    </div>
    <div className="lux-crux bg-green-200 px-3 py-1 rounded-full">
        <div className="lux-crux-start">
            <div className="w-[0.75em] h-[0.75em] bg-green-400 flex justify-center items-center rounded-full">
            </div>
        </div>
        <div className="lux-crux-content">
            Tag name
        </div>
    </div>
    After
</div>
</Canvas>

## Truncated text

When the content is truncated.

<Canvas isExpanded={true}>
<div className="text-center">
    <div className="inline-block w-48 bg-yellow-100">
    Before
    <div className="lux-crux bg-green-200 px-3 py-1 rounded-full">
        <div className="lux-crux-start">
            <FullSquareIcon className="bg-red-100"/>
        </div>
        <div className="lux-crux-content">
            <div className="w-full truncate bg-blue-100">Tag name that is very long</div>
        </div>
        <div className="lux-crux-end">
            <FullSquareIcon className="bg-red-100"/>
        </div>
    </div>
    After
    </div>
</div>
</Canvas>

